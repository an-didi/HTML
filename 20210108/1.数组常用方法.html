<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>数组常用方法</title>
  </head>
  <body>
    <script>
      // 1. 栈方法
      // 栈：后进先出的数据结构。
      // 队：先进先出的数据结构
      // 它们是仅允许在一端进行增删的数组

      // 入栈操作push(),出栈操作pop(),都是在数组的尾部进行的操作
      // 入栈操作支持多个数据添加，从左至右依次压入栈中
      let arr = [];
      arr.push(1);
      arr.push(2);
      arr.push(3);
      console.log(arr);
      // 出栈操作一次只支持一个数据的弹出
      console.log(arr.pop());
      console.log(arr.pop());
      console.log(arr.pop());

      // 入栈操作unshift(),出栈操作shift(),在数组的头部进行操作,使用unshift()操作进行数据入栈时，不要一次性添加数据，这样会让数据的入栈顺序发生变化
      arr.unshift(1);
      arr.unshift(2);
      arr.unshift(3);
      // 入栈顺序是1，2，3，但是在数组中的排列顺序是[3,2,1],出栈顺序是3，2，1
      console.log(arr);
      console.log(arr.shift());
      console.log("---------------------");

      // 使用栈操作模拟队操作，push()+shift()，尾部添加，头部出去
      arr = [];
      // arr.push(1);
      // arr.push(2);
      // arr.push(3);
      arr.push(1, 2, 3);
      console.log(arr);
      console.log(arr.shift());
      console.log(arr.shift());
      console.log(arr.shift());
      console.log("----------------------");
      // console.log(arr.shift());
      // 入队顺序1，2，3，队列中的排列顺序[1,2,3]，出队顺序1，2，3

      // 头部进入，尾部出去的队列,使用unshift()+pop()
      arr.unshift(1);
      arr.unshift(2);
      arr.unshift(3);
      console.log(arr);
      console.log(arr.pop());
      console.log(arr.pop());
      console.log(arr.pop());
      // 入队顺序是1，2，3，队列中的排列顺序是[3,2,1],出队顺序是1，2，3

      // 2. join()方法：与字符串的split()方法相反，它是将数组转为字符串返回
      arr = ["电脑", "手机", "耳机", "手表", "折刀"];
      let res = arr.join();
      // join()的默认参数是 ',' ,使用逗号将数组元素隔开
      console.log(res);
      res = arr.join("和");
      console.log(res);
      // js中的字符串是可以当数组一样使用的，支持索引取字符串中的字符

      // 3. concat()数组合并
      console.log([1, 2, 3].concat([4, 5], [6, 7]));
      // concat()方法中的参数不一定是数组类型，其他的都可以
      console.log([1, 2, 3].concat(456, "小花", true, { a: 1, b: 2 }));
      // 可以看到的是，它会将所有的数据全部合并到一个数组中，其中每项都是数组的一个元素
      // concat()方法的返回一定是一个一维数组，它里边的参数如果包含一个数组，或是多个数组，它并不会生成一个多维数组，而是将里边的数组参数展开，然后进行合并

      // 4. slice(起始位置，选取的数量)方法，获取数组中的部分成员
      // 创建数组副本使用，支持负数操作，取值方向是从左至右
      arr = [1, 2, 3, 4, 5];
      // 数组的深拷贝方式，和使用for循环添加的性质相似
      res = arr.slice(0);
      console.log(res);

      // 5. splice(开始索引，删除的数量，插入的数据...)方法，数组的增删改,它的主要工作是删除元素

      console.log("--------------------------");

      // 5.1 删除
      // 从索引是2的元素开始删除，没有第二个参数，就代表从当前开始一直删完，它的返回值是删除的元素
      res = arr.splice(2);
      console.log(res);
      console.log(arr);

      // 5.2 更新操作
      arr = [1, 2, 3, 4, 5];
      // 例如将2，3更新成22，33
      // res = arr.splice(1, 2, 22, 33);
      // 第三个参数不支持数组传参，不管是多少个值，都必须写成单值，不过可以使用...rest合并参数方法进行简写
      res = arr.splice(1, 2, ...[22, 33]);
      console.log(res);
      console.log(arr);

      // 5.3 新增操作
      arr = [1, 2, 3, 4, 5];
      // 将第二个参数设置为0,这样就不会有元素被删除
      res = arr.splice(1, 0, ...[22, 33]);
      console.log(res);
      console.log(arr);

      // 6. sort()默认字典序排序
      arr = ["a", "s", "i", "y"];
      console.log(arr);
      console.log(arr.sort());
      // 如果说，数组中出现其它类型的数据，就会报错
      arr = [47, 79, 4, 2, 8, 83, 2];
      console.log(arr);
      console.log(arr.sort());
      // 使用自定义方式来进行

      // 这里使用回调函数的方式来自定义
      //升序
      console.log(arr.sort((a, b) => a - b));
      //降序
      console.log(arr.sort((a, b) => b - a));

      console.log("-------------------------");

      // 7. 遍历map()
      arr = [1, 2, 3, 4, 5];
      res = arr.forEach((item) => console.log(item));
      // 没有返回值
      // console.log(res);
      // map()方法是对原数组使用回调方法处理，然后返回一个新的数组，它所返回的值是原数组的映射
      res = arr.map((item) => item * 2);
      console.log(res);

      // 8. filter()方法，进行数组中的元素过滤筛选
      arr = [1, 2, 3, 4, 5];
      res = arr.filter((item) => item % 2);
      console.log(res);
      res = arr.filter((item) => !(item % 2));
      console.log(res);

      // 9. 归并方法reduce(),reduce()方法的第二个参数是累加的初始值
      arr = [1, 2, 3, 4, 5];
      res = arr.reduce((prev, curr) => {
        // console.log(prev, curr);
        return prev + curr;
      });
      console.log(res);
    </script>
  </body>
</html>
